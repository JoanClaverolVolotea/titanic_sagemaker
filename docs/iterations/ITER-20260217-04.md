# ITER-20260217-04

## Objetivo
Clarificar de forma operacional como se entrena el modelo en fase 02 y agregar un mecanismo seguro para resetear estado del tutorial por fase o total.

## Cambios
- Se agrego `scripts/reset_tutorial_state.sh` con:
  - target obligatorio `after-tutorial-2|all`,
  - `dry-run` por defecto,
  - `--apply --confirm RESET` para borrado real,
  - perfil obligatorio `data-science-user`,
  - descubrimiento hibrido de recursos (tag `project=titanic-sagemaker` + fallback por prefijo),
  - reporte final en bloques `Deleted`, `Skipped`, `Warnings`.
- Se actualizo `docs/tutorials/02-training-validation.md` para dejar explicito:
  - que el entrenamiento real ocurre en SageMaker Training Job,
  - que los scripts locales solo preparan/evaluan datos,
  - naming/tagging recomendado (`titanic-xgb-*`, `project=titanic-sagemaker`, `tutorial_phase=02`),
  - comandos de reset rapido para repetir fase 02.
- Se actualizaron `docs/tutorials/03-sagemaker-pipeline.md` y `docs/tutorials/04-serving-sagemaker.md` (renombrado desde `04-serving-ecs-sagemaker.md`) con convencion de naming/tagging para cleanup seguro.
- Se actualizo `docs/tutorials/README.md` con seccion de reset por tutorial.

## Evidencia
- `scripts/reset_tutorial_state.sh --help` disponible para operadores.
- Script validado sintacticamente con `bash -n`.
- `dry-run` sobre ambos targets ejecutable sin mutar estado.

## Decisiones
- `all` conserva IAM y bucket; limpia recursos SageMaker y prefijos S3.
- `after-tutorial-2` conserva `raw/` y `curated/`.
- Limpieza local limitada a `data/titanic/sagemaker/`.
- Donde no exista API de delete (ej. transform jobs), el script reporta `Skipped` + advertencia.

## Riesgos
- Si recursos no tienen tags y no respetan prefijos esperados, pueden quedar fuera del cleanup.
- La cuenta puede no tener permisos para borrar todos los recursos detectados; se reporta en `Warnings`.

## Siguiente paso
Ejecutar pruebas de campo con `--target after-tutorial-2` y `--target all` en entorno real y ajustar naming/tagging de recursos para maximizar cobertura del cleanup.
